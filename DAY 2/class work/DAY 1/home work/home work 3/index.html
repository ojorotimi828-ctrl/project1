import React, { useState, useMemo, useEffect } from 'react';
import { 
  MapPin, 
  Search, 
  Filter, 
  Bed, 
  Bath, 
  Maximize, 
  X, 
  Calendar, 
  Phone, 
  Mail, 
  User, 
  CheckCircle,
  Home,
  List,
  Map as MapIcon,
  ChevronRight
} from 'lucide-react';

// --- MOCK DATA ---
const NEIGHBORHOODS = [
  "Any Location",
  "Alagbaka",
  "Ijapo Estate",
  "Oba Ile",
  "FUTA North Gate",
  "Arakale",
  "Alagbaka GRA"
];

const PROPERTIES = [
  {
    id: 1,
    title: "Modern Duplex at Alagbaka GRA",
    price: 85000000,
    type: "buy",
    beds: 5,
    baths: 6,
    sqft: 450,
    location: "Alagbaka GRA",
    address: "14 Bishop's Court, Alagbaka Extension",
    coords: { x: 45, y: 35 }, // % coordinates for the mock map
    image: "https://images.unsplash.com/photo-1600596542815-60c37c6525fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
    description: "An architectural masterpiece in the heart of Akure's most prestigious neighborhood. Features a swimming pool, automated gate, and solar power integration."
  },
  {
    id: 2,
    title: "Cozy 2-Bed Apartment in Ijapo",
    price: 1500000,
    type: "rent",
    beds: 2,
    baths: 2,
    sqft: 120,
    location: "Ijapo Estate",
    address: "Block 4, Flagship Road, Ijapo",
    coords: { x: 65, y: 55 },
    image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
    description: "Perfect for young professionals. Fully serviced apartment with 24/7 security and treated water supply. Close to the mall."
  },
  {
    id: 3,
    title: "Family Bungalow in Oba Ile",
    price: 35000000,
    type: "buy",
    beds: 4,
    baths: 4,
    sqft: 300,
    location: "Oba Ile",
    address: "Sunshine Gardens, Oba Ile Housing",
    coords: { x: 80, y: 20 },
    image: "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
    description: "Spacious bungalow with a large compound, fruit trees, and a boys' quarter. Serene environment away from city noise."
  },
  {
    id: 4,
    title: "Student Hostel Investment",
    price: 55000000,
    type: "buy",
    beds: 12,
    baths: 12,
    sqft: 600,
    location: "FUTA North Gate",
    address: "South Gate Road, near FUTA",
    coords: { x: 20, y: 75 },
    image: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
    description: "High ROI investment property. 12 units of self-contained rooms, fully tenanted. Walking distance to the university gate."
  },
  {
    id: 5,
    title: "Commercial Space at Arakale",
    price: 2500000,
    type: "rent",
    beds: 0,
    baths: 2,
    sqft: 150,
    location: "Arakale",
    address: "Main Market Road, Arakale",
    coords: { x: 50, y: 60 },
    image: "https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
    description: "Prime open-plan office space on the first floor. High foot traffic area, perfect for a bank, showroom, or tech hub."
  },
  {
    id: 6,
    title: "Luxury Villa with Pool",
    price: 120000000,
    type: "buy",
    beds: 6,
    baths: 7,
    sqft: 650,
    location: "Alagbaka",
    address: "Government House Road",
    coords: { x: 40, y: 40 },
    image: "https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
    description: "The pinnacle of luxury living in Akure. Smart home features, cinema room, gym, and infinity pool."
  }
];

// --- COMPONENTS ---

// 1. Navigation
const Navbar = () => (
  <nav className="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 md:px-8 sticky top-0 z-30 shadow-sm">
    <div className="flex items-center gap-2">
      <div className="bg-emerald-600 p-2 rounded-lg">
        <Home className="w-5 h-5 text-white" />
      </div>
      <span className="text-xl font-bold text-gray-800 tracking-tight">Akure<span className="text-emerald-600">Estates</span></span>
    </div>
    <div className="hidden md:flex items-center gap-6 text-sm font-medium text-gray-600">
      <a href="#" className="hover:text-emerald-600 transition-colors">Buy</a>
      <a href="#" className="hover:text-emerald-600 transition-colors">Rent</a>
      <a href="#" className="hover:text-emerald-600 transition-colors">Sell</a>
      <a href="#" className="hover:text-emerald-600 transition-colors">Agents</a>
    </div>
    <button className="bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors">
      List Property
    </button>
  </nav>
);

// 2. Custom Map Component (Abstract SVG Map)
const MapCanvas = ({ properties, selectedId, onSelect }) => {
  return (
    <div className="w-full h-full bg-[#f0f4f8] relative overflow-hidden group">
      {/* Abstract Map Background Pattern - Simulating Roads/Zones */}
      <svg className="absolute inset-0 w-full h-full opacity-10 pointer-events-none" xmlns="http://www.w3.org/2000/svg">
        <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
          <path d="M 40 0 L 0 0 0 40" fill="none" stroke="currentColor" strokeWidth="0.5" className="text-gray-500"/>
        </pattern>
        <rect width="100%" height="100%" fill="url(#grid)" />
        {/* Abstract Roads */}
        <path d="M 0 50 Q 50 40 100 60" stroke="currentColor" strokeWidth="2" fill="none" className="text-gray-400" vectorEffect="non-scaling-stroke"/>
        <path d="M 40 0 Q 45 50 60 100" stroke="currentColor" strokeWidth="2" fill="none" className="text-gray-400" vectorEffect="non-scaling-stroke"/>
        <path d="M 80 0 L 30 100" stroke="currentColor" strokeWidth="1.5" fill="none" className="text-gray-400" vectorEffect="non-scaling-stroke"/>
      </svg>
      
      {/* Map Labels */}
      <div className="absolute top-10 left-10 text-xs font-bold text-gray-400 uppercase tracking-widest pointer-events-none">FUTA / North</div>
      <div className="absolute bottom-10 right-10 text-xs font-bold text-gray-400 uppercase tracking-widest pointer-events-none">Ijapo Estate</div>
      <div className="absolute top-1/3 left-1/2 text-xs font-bold text-gray-400 uppercase tracking-widest pointer-events-none transform -translate-x-1/2">Alagbaka</div>

      {/* Pins */}
      {properties.map((prop) => {
        const isSelected = selectedId === prop.id;
        return (
          <button
            key={prop.id}
            onClick={() => onSelect(prop)}
            className={`absolute transform -translate-x-1/2 -translate-y-full transition-all duration-300 group/pin z-10 focus:outline-none`}
            style={{ left: `${prop.coords.x}%`, top: `${prop.coords.y}%` }}
          >
            <div className={`relative flex flex-col items-center`}>
              {/* Tooltip on hover */}
              <div className={`absolute bottom-full mb-2 bg-white px-3 py-1.5 rounded-lg shadow-lg text-xs font-bold whitespace-nowrap transition-all duration-200 pointer-events-none ${isSelected ? 'opacity-100 scale-100' : 'opacity-0 scale-95 group-hover/pin:opacity-100 group-hover/pin:scale-100'}`}>
                ₦{(prop.price).toLocaleString()}
                <div className="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-white"></div>
              </div>

              {/* Pin Icon */}
              <div className={`w-10 h-10 rounded-full flex items-center justify-center shadow-lg border-2 transition-all duration-300 ${isSelected ? 'bg-emerald-600 border-white scale-125 z-20' : 'bg-white border-emerald-600 hover:bg-emerald-50'}`}>
                {isSelected ? (
                  <Home className="w-5 h-5 text-white" />
                ) : (
                  <span className="text-xs font-bold text-emerald-700">
                     {prop.type === 'rent' ? 'R' : 'S'}
                  </span>
                )}
              </div>
              {/* Pulse effect for selected */}
              {isSelected && <div className="absolute w-10 h-10 bg-emerald-400 rounded-full animate-ping opacity-50"></div>}
            </div>
          </button>
        );
      })}
      
      {/* Map Controls (Visual only) */}
      <div className="absolute bottom-6 right-6 flex flex-col gap-2">
        <button className="bg-white p-2 rounded-lg shadow-md hover:bg-gray-50 text-gray-600"><Maximize className="w-5 h-5"/></button>
        <button className="bg-white p-2 rounded-lg shadow-md hover:bg-gray-50 text-gray-600"><MapIcon className="w-5 h-5"/></button>
      </div>
    </div>
  );
};

// 3. Filter Component
const FilterBar = ({ filters, setFilters }) => {
  return (
    <div className="bg-white border-b border-gray-200 p-4 sticky top-16 z-20 shadow-sm overflow-x-auto">
      <div className="flex flex-row items-center gap-3 min-w-max">
        {/* Search Input */}
        <div className="relative">
          <Search className="w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" />
          <input 
            type="text" 
            placeholder="Search address..." 
            className="pl-9 pr-4 py-2 bg-gray-100 border-transparent focus:bg-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 rounded-full text-sm w-64 transition-all outline-none"
            value={filters.search}
            onChange={(e) => setFilters({...filters, search: e.target.value})}
          />
        </div>

        {/* Location Dropdown */}
        <select 
          className="px-4 py-2 border border-gray-200 rounded-full text-sm bg-white hover:border-emerald-500 focus:border-emerald-500 outline-none cursor-pointer transition-colors"
          value={filters.location}
          onChange={(e) => setFilters({...filters, location: e.target.value})}
        >
          {NEIGHBORHOODS.map(n => <option key={n} value={n}>{n}</option>)}
        </select>

        {/* Type Buttons */}
        <div className="flex bg-gray-100 p-1 rounded-full">
          <button 
            onClick={() => setFilters({...filters, type: 'all'})}
            className={`px-4 py-1.5 rounded-full text-xs font-semibold transition-all ${filters.type === 'all' ? 'bg-white shadow text-emerald-700' : 'text-gray-500 hover:text-gray-700'}`}
          >
            All
          </button>
          <button 
            onClick={() => setFilters({...filters, type: 'buy'})}
            className={`px-4 py-1.5 rounded-full text-xs font-semibold transition-all ${filters.type === 'buy' ? 'bg-white shadow text-emerald-700' : 'text-gray-500 hover:text-gray-700'}`}
          >
            Buy
          </button>
          <button 
            onClick={() => setFilters({...filters, type: 'rent'})}
            className={`px-4 py-1.5 rounded-full text-xs font-semibold transition-all ${filters.type === 'rent' ? 'bg-white shadow text-emerald-700' : 'text-gray-500 hover:text-gray-700'}`}
          >
            Rent
          </button>
        </div>

        {/* Price Range Filter (Simplified) */}
         <select 
          className="px-4 py-2 border border-gray-200 rounded-full text-sm bg-white hover:border-emerald-500 focus:border-emerald-500 outline-none cursor-pointer"
          value={filters.priceRange}
          onChange={(e) => setFilters({...filters, priceRange: e.target.value})}
        >
          <option value="any">Any Price</option>
          <option value="low">Under ₦20M</option>
          <option value="mid">₦20M - ₦80M</option>
          <option value="high">Above ₦80M</option>
        </select>
      </div>
    </div>
  );
};

// 4. Property Card
const PropertyCard = ({ property, onClick, active }) => (
  <div 
    onClick={() => onClick(property)}
    className={`flex flex-col md:flex-row gap-4 p-4 border-b border-gray-100 hover:bg-emerald-50 cursor-pointer transition-colors ${active ? 'bg-emerald-50 ring-l-4 ring-emerald-500' : ''}`}
  >
    <div className="w-full md:w-32 h-32 md:h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-200">
      <img src={property.image} alt={property.title} className="w-full h-full object-cover hover:scale-105 transition-transform duration-500" />
    </div>
    <div className="flex-1 flex flex-col justify-between">
      <div>
        <div className="flex justify-between items-start">
          <h3 className="font-bold text-gray-900 line-clamp-1">{property.title}</h3>
          <span className={`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase ${property.type === 'rent' ? 'bg-blue-100 text-blue-700' : 'bg-emerald-100 text-emerald-700'}`}>
            {property.type}
          </span>
        </div>
        <p className="text-gray-500 text-xs mt-1 flex items-center gap-1">
          <MapPin className="w-3 h-3" /> {property.address}
        </p>
      </div>
      <div className="flex items-end justify-between mt-3">
        <div className="text-lg font-bold text-emerald-700">
          ₦{property.price.toLocaleString()}
          {property.type === 'rent' && <span className="text-xs text-gray-500 font-normal">/yr</span>}
        </div>
        <div className="flex items-center gap-3 text-gray-500 text-xs">
          <span className="flex items-center gap-1"><Bed className="w-3 h-3"/> {property.beds}</span>
          <span className="flex items-center gap-1"><Bath className="w-3 h-3"/> {property.baths}</span>
          <span className="hidden sm:flex items-center gap-1"><Maximize className="w-3 h-3"/> {property.sqft} m²</span>
        </div>
      </div>
    </div>
  </div>
);

// 5. Booking Modal
const PropertyModal = ({ property, onClose }) => {
  const [formData, setFormData] = useState({ name: '', phone: '', email: '', date: '' });
  const [status, setStatus] = useState('idle'); // idle, submitting, success

  const handleSubmit = (e) => {
    e.preventDefault();
    setStatus('submitting');
    setTimeout(() => {
      setStatus('success');
    }, 1500);
  };

  if (!property) return null;

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6">
      <div className="absolute inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity" onClick={onClose}></div>
      
      <div className="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col md:flex-row relative z-10 animate-fade-in-up">
        <button onClick={onClose} className="absolute top-4 right-4 z-20 bg-white/80 p-2 rounded-full hover:bg-white transition-colors">
          <X className="w-5 h-5 text-gray-800" />
        </button>

        {/* Left: Image & Info */}
        <div className="w-full md:w-3/5 overflow-y-auto custom-scrollbar">
          <div className="h-64 sm:h-80 w-full relative">
            <img src={property.image} alt={property.title} className="w-full h-full object-cover" />
            <div className="absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
              <h2 className="text-2xl font-bold">{property.title}</h2>
              <p className="flex items-center gap-1 opacity-90 text-sm mt-1">
                <MapPin className="w-4 h-4" /> {property.address}, {property.location}
              </p>
            </div>
          </div>

          <div className="p-6 md:p-8 space-y-6">
            <div className="flex flex-wrap gap-4 md:gap-8 border-b border-gray-100 pb-6">
              <div className="flex flex-col">
                 <span className="text-xs text-gray-500 uppercase font-bold tracking-wider">Price</span>
                 <span className="text-2xl font-bold text-emerald-600">₦{property.price.toLocaleString()}</span>
              </div>
              <div className="flex gap-6 items-center text-gray-700">
                <div className="flex flex-col items-center">
                  <Bed className="w-5 h-5 mb-1 text-gray-400" />
                  <span className="font-semibold">{property.beds} Beds</span>
                </div>
                <div className="flex flex-col items-center">
                  <Bath className="w-5 h-5 mb-1 text-gray-400" />
                  <span className="font-semibold">{property.baths} Baths</span>
                </div>
                <div className="flex flex-col items-center">
                  <Maximize className="w-5 h-5 mb-1 text-gray-400" />
                  <span className="font-semibold">{property.sqft} m²</span>
                </div>
              </div>
            </div>

            <div>
              <h3 className="font-bold text-gray-900 mb-2">Description</h3>
              <p className="text-gray-600 leading-relaxed">{property.description}</p>
            </div>

            <div className="grid grid-cols-2 gap-3">
               {['Solar Powered', 'Treated Water', 'Security', 'Parking'].map(feat => (
                 <div key={feat} className="flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded">
                    <CheckCircle className="w-4 h-4 text-emerald-500" /> {feat}
                 </div>
               ))}
            </div>
          </div>
        </div>

        {/* Right: Booking Form */}
        <div className="w-full md:w-2/5 bg-gray-50 border-l border-gray-200 p-6 md:p-8 flex flex-col justify-center">
          {status === 'success' ? (
            <div className="text-center py-10">
              <div className="w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <CheckCircle className="w-8 h-8" />
              </div>
              <h3 className="text-xl font-bold text-gray-900">Request Sent!</h3>
              <p className="text-gray-600 mt-2 text-sm">An agent will contact you shortly to confirm your viewing at {property.location}.</p>
              <button 
                onClick={onClose}
                className="mt-6 text-emerald-600 font-semibold hover:text-emerald-700 text-sm"
              >
                Continue Browsing
              </button>
            </div>
          ) : (
            <>
              <h3 className="text-xl font-bold text-gray-900 mb-1">Schedule a Viewing</h3>
              <p className="text-xs text-gray-500 mb-6">Interested? Fill out the form below to tour this property.</p>
              
              <form onSubmit={handleSubmit} className="space-y-4">
                <div className="space-y-1">
                  <label className="text-xs font-semibold text-gray-700 uppercase">Full Name</label>
                  <div className="relative">
                    <User className="w-4 h-4 absolute left-3 top-3 text-gray-400" />
                    <input 
                      required
                      type="text" 
                      className="w-full pl-9 p-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all text-sm"
                      placeholder="John Doe"
                    />
                  </div>
                </div>

                <div className="space-y-1">
                  <label className="text-xs font-semibold text-gray-700 uppercase">Phone Number</label>
                  <div className="relative">
                    <Phone className="w-4 h-4 absolute left-3 top-3 text-gray-400" />
                    <input 
                      required
                      type="tel" 
                      className="w-full pl-9 p-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all text-sm"
                      placeholder="080..."
                    />
                  </div>
                </div>

                 <div className="space-y-1">
                  <label className="text-xs font-semibold text-gray-700 uppercase">Preferred Date</label>
                  <div className="relative">
                    <Calendar className="w-4 h-4 absolute left-3 top-3 text-gray-400" />
                    <input 
                      required
                      type="date" 
                      className="w-full pl-9 p-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all text-sm text-gray-600"
                    />
                  </div>
                </div>

                <button 
                  disabled={status === 'submitting'}
                  type="submit" 
                  className="w-full bg-gray-900 hover:bg-black text-white py-3 rounded-lg font-bold shadow-lg transform active:scale-95 transition-all flex items-center justify-center gap-2 mt-4"
                >
                  {status === 'submitting' ? 'Sending...' : 'Request Viewing'}
                  {!status === 'submitting' && <ChevronRight className="w-4 h-4" />}
                </button>
              </form>
              <p className="text-[10px] text-center text-gray-400 mt-4">
                By submitting, you agree to Akure Estates Terms of Service.
              </p>
            </>
          )}
        </div>
      </div>
    </div>
  );
};

// --- MAIN APP ---
const App = () => {
  const [selectedProperty, setSelectedProperty] = useState(null);
  const [viewMode, setViewMode] = useState('both'); // 'map', 'list', 'both' (desktop)
  const [filters, setFilters] = useState({
    search: '',
    location: 'Any Location',
    type: 'all',
    priceRange: 'any'
  });

  // Responsive Layout Handler
  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth < 768) {
        setViewMode('list');
      } else {
        setViewMode('both');
      }
    };
    handleResize(); // Init
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  // Filter Logic
  const filteredProperties = useMemo(() => {
    return PROPERTIES.filter(p => {
      const matchSearch = p.address.toLowerCase().includes(filters.search.toLowerCase()) || 
                          p.title.toLowerCase().includes(filters.search.toLowerCase());
      const matchLoc = filters.location === 'Any Location' || p.location === filters.location;
      const matchType = filters.type === 'all' || p.type === filters.type;
      
      let matchPrice = true;
      if (filters.priceRange === 'low') matchPrice = p.price < 20000000;
      if (filters.priceRange === 'mid') matchPrice = p.price >= 20000000 && p.price <= 80000000;
      if (filters.priceRange === 'high') matchPrice = p.price > 80000000;

      return matchSearch && matchLoc && matchType && matchPrice;
    });
  }, [filters]);

  return (
    <div className="h-screen flex flex-col bg-white text-gray-800 font-sans overflow-hidden">
      <Navbar />
      <FilterBar filters={filters} setFilters={setFilters} />

      <main className="flex-1 flex relative overflow-hidden">
        
        {/* LIST VIEW (Left Panel) */}
        <div className={`
          flex-col bg-white border-r border-gray-200 overflow-y-auto custom-scrollbar w-full md:w-[450px]
          ${viewMode === 'map' ? 'hidden' : 'flex'}
        `}>
          <div className="p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center">
            <span className="text-sm font-bold text-gray-500">{filteredProperties.length} Properties Found</span>
             {/* Mobile Toggle */}
            <button 
              className="md:hidden flex items-center gap-2 text-sm font-semibold text-emerald-600 bg-emerald-50 px-3 py-1.5 rounded-full"
              onClick={() => setViewMode('map')}
            >
              <MapIcon className="w-4 h-4"/> Map View
            </button>
          </div>

          <div className="flex-1 pb-20 md:pb-0">
            {filteredProperties.length > 0 ? (
              filteredProperties.map(prop => (
                <PropertyCard 
                  key={prop.id} 
                  property={prop} 
                  active={selectedProperty?.id === prop.id}
                  onClick={(p) => setSelectedProperty(p)} 
                />
              ))
            ) : (
              <div className="p-10 text-center text-gray-400">
                <Search className="w-12 h-12 mx-auto mb-4 opacity-20" />
                <p>No properties match your filters.</p>
                <button 
                  onClick={() => setFilters({ search: '', location: 'Any Location', type: 'all', priceRange: 'any' })}
                  className="mt-4 text-emerald-600 font-medium hover:underline"
                >
                  Clear Filters
                </button>
              </div>
            )}
          </div>
        </div>

        {/* MAP VIEW (Right Panel) */}
        <div className={`
          flex-1 relative bg-gray-100
          ${viewMode === 'list' && 'hidden md:block'} 
        `}>
          <MapCanvas 
            properties={filteredProperties} 
            selectedId={selectedProperty?.id}
            onSelect={(p) => setSelectedProperty(p)}
          />
          
          {/* Mobile List Toggle (Floating) */}
          <div className="absolute bottom-6 left-1/2 transform -translate-x-1/2 md:hidden z-20">
             <button 
              className="flex items-center gap-2 bg-gray-900 text-white px-6 py-3 rounded-full shadow-xl font-semibold"
              onClick={() => setViewMode('list')}
            >
              <List className="w-4 h-4"/> Show List
            </button>
          </div>
        </div>

      </main>

      {/* Detail Modal */}
      {selectedProperty && (
        <PropertyModal 
          property={selectedProperty} 
          onClose={() => setSelectedProperty(null)} 
        />
      )}

      <style>{`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: #e5e7eb;
          border-radius: 20px;
        }
        .animate-fade-in-up {
          animation: fadeInUp 0.3s ease-out;
        }
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}</style>
    </div>
  );
};

export default App;